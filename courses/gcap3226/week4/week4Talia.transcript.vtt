WEBVTT

1
00:00:01.400 --> 00:00:04.660
Simon Wang: Alright, testing, testing. So,

2
00:00:04.790 --> 00:00:11.909
Simon Wang: This is week 4, and you know, we're recording this, so if you want to catch up, you can watch the video.

3
00:00:12.210 --> 00:00:18.970
Simon Wang: And before we, talk about today's in-class exercise and some of the

4
00:00:19.340 --> 00:00:25.589
Simon Wang: you know, mass tools for this course. I want to just very quickly go through this, article.

5
00:00:25.990 --> 00:00:29.240
Simon Wang: As you can see.

6
00:00:30.020 --> 00:00:37.490
Simon Wang: You know, as the title suggests, there are fewer jobs, available for the university graduates

7
00:00:37.630 --> 00:00:40.169
Simon Wang: Last year, so according to

8
00:00:40.270 --> 00:00:53.429
Simon Wang: the data. But the immediate question we have to ask when we read the title and also go through the question is, where is the data? What is the evidence that, supports

9
00:00:53.480 --> 00:01:00.679
Simon Wang: the claim that there are 55% less or fewer jobs for the university graduates in Hong Kong.

10
00:01:01.650 --> 00:01:13.129
Simon Wang: And, if you go through this article, you found that, actually, the data comes from this, what we call the Joint Institution Job Information System.

11
00:01:15.240 --> 00:01:22.779
Simon Wang: And then, if you search for that, you find that, actually, this is a job portal

12
00:01:23.060 --> 00:01:27.319
Simon Wang: Primarily for, university graduates or students.

13
00:01:27.440 --> 00:01:43.939
Simon Wang: for the 8 publicly funded universities, okay? Well, that's very useful information, because for one thing, you know, just in case you don't know this platform, you should check it out. But then at the same time, when we,

14
00:01:44.340 --> 00:01:51.140
Simon Wang: You know, become aware of this fact, the data coming from this platform, then we need to start asking questions.

15
00:01:51.270 --> 00:02:04.609
Simon Wang: Right? Because, you know, this course is about data analysis, right? And we need to be very, kind of sensitive about how data is being used to make

16
00:02:04.890 --> 00:02:07.189
Simon Wang: Arguments and to tell stories.

17
00:02:07.290 --> 00:02:08.190
Simon Wang: So…

18
00:02:08.310 --> 00:02:23.650
Simon Wang: I think this is a question I won't answer, but I would encourage everybody to think about this a little bit. To what extent we can really use the data from this particular platform to draw a conclusion regarding

19
00:02:23.780 --> 00:02:28.309
Simon Wang: the number of jobs available for Hong Kong graduates, right?

20
00:02:28.430 --> 00:02:36.070
Simon Wang: You know, because just use your common sense, you can see that people who can use this platform

21
00:02:36.080 --> 00:02:53.919
Simon Wang: like, the graduates or students from these eight universities are not necessarily… it's clearly not the entire population of the Hong Kong graduates, university graduates, because we also have other, like, self-financed institutions, you know, students who

22
00:02:53.920 --> 00:03:08.090
Simon Wang: who studied there and graduate from those institutions, and also students who graduated from other universities, from other parts of the world, and maybe they will come back and join the job market in Hong Kong.

23
00:03:08.250 --> 00:03:25.609
Simon Wang: as well. And, you know, jobs here are not for them, and not really kind of available for… at least the information is not available through this platform. But maybe the same set of employers could be publishing the same jobs in other platforms, right?

24
00:03:26.080 --> 00:03:36.170
Simon Wang: So, so in a way, I feel that the journalist, the reporter, is a little bit misleading in the sense that, you know.

25
00:03:36.340 --> 00:03:56.069
Simon Wang: Of course, it's probably a matter of convenience. He can only gather data from this particular site, so that's what he's got, so he just writes this article. But it raises some really important questions for us, because in this course, we are concerned about making decisions and formulate policies.

26
00:03:56.130 --> 00:03:57.569
Simon Wang: You know.

27
00:03:57.780 --> 00:04:09.930
Simon Wang: you know, from the government's perspective. And, you know, university graduates' job prospects is a major concern, right? I'm sure that a lot of people in the government would be very interested in this issue.

28
00:04:09.930 --> 00:04:18.510
Simon Wang: So that becomes… that raises the question, you know, where can we get more reliable data about the job markets, about the number of jobs available?

29
00:04:18.510 --> 00:04:23.719
Simon Wang: For the university graduates. So, again, I don't have a good answer to that.

30
00:04:23.720 --> 00:04:36.879
Simon Wang: But I think this news article would give us a great opportunity to reflect on these issues and to explore and think about how data can be managed more effectively to answer questions like this.

31
00:04:37.540 --> 00:04:46.670
Simon Wang: And then there's another question, another issue I want to… I want to raise, which is, you know, I think this is actually covered in the… in the news as well.

32
00:04:47.150 --> 00:05:02.720
Simon Wang: people believe, and I also agree, that one of the reasons why, one of the major reasons why there are fewer jobs available for fresh graduates, or young people in general, is because of AI. It's because of artificial intelligence.

33
00:05:03.090 --> 00:05:12.119
Simon Wang: And, you know, I actually know this firsthand, because I've been using AI Agent, and I'll probably do a little bit of demo today or next week.

34
00:05:12.300 --> 00:05:23.799
Simon Wang: you can see that AI agents can actually do a very competent job, probably a better job than most university graduates, fresh graduates, with little experience on the job.

35
00:05:24.050 --> 00:05:38.760
Simon Wang: So, I would understand… I would, kind of understand why, employers nowadays, the companies, would prefer start using AI, rather than spending the money to hire the fresh graduates.

36
00:05:38.760 --> 00:05:42.779
Simon Wang: Right? So, so it's a very, kind of, practical choice.

37
00:05:42.780 --> 00:06:00.699
Simon Wang: they have to make. But then that raises a host of other questions, including how we should revise our curriculum and train our students in a way that they will become more competent AI users, but then at the same time, how the government needs to respond and start

38
00:06:00.700 --> 00:06:06.399
Simon Wang: Doing something to ensure that the university graduates and the young people still will have a job.

39
00:06:06.420 --> 00:06:14.690
Simon Wang: Because if they cannot start somewhere to receive their training, and they won't have the opportunity to become professionals later.

40
00:06:14.690 --> 00:06:34.389
Simon Wang: Right? So that's another kind of issue. But all these issues need data, right? We need better data to understand the issue first before the government, before the university management can make informed decisions on these important issues. That's actually the reason why we need this course like this.

41
00:06:34.390 --> 00:06:38.910
Simon Wang: To, to, think about how data can inform our decisions.

42
00:06:39.430 --> 00:06:46.440
Simon Wang: Alright, so I hope this… this new, kind of, it's only a two days old article, would,

43
00:06:46.570 --> 00:06:57.020
Simon Wang: Give us some fresh perspective on, you know, what we've been talking about, and hopefully we can continue our discussion.

44
00:06:57.940 --> 00:07:05.029
Simon Wang: Alright, so… Now, we have our… let me see, I think the slides…

45
00:07:08.780 --> 00:07:10.050
Simon Wang: Let me check…

46
00:07:12.940 --> 00:07:18.880
Simon Wang: I have no idea. Let me double check. So, do you have a slides on your computer? You can use that.

47
00:07:21.040 --> 00:07:21.800
Simon Wang: Why?

48
00:07:37.200 --> 00:07:50.910
Simon Wang: Okay, so before we start the topic today, which is about using simulation to simulate the public transportation, maybe let me briefly recap what we discussed last time.

49
00:08:17.220 --> 00:08:25.450
Simon Wang: Yeah, so last time we focused on the case study about, analyzing the, Questionnaire.

50
00:08:25.680 --> 00:08:28.849
Simon Wang: Questions to try to,

51
00:08:29.050 --> 00:08:36.059
Simon Wang: Find the potential influencing factors about this municipal solid waste charging scheme.

52
00:08:37.080 --> 00:08:44.789
Simon Wang: So the method we use is linear regression, where we find the perceived

53
00:08:44.990 --> 00:08:49.500
Simon Wang: I think it's the, government consideration.

54
00:08:49.980 --> 00:08:52.450
Simon Wang: I think the result is at the end.

55
00:08:54.860 --> 00:09:04.249
Simon Wang: So the key predictors for the level of support of this policy is the perceived government responsiveness.

56
00:09:04.350 --> 00:09:07.599
Simon Wang: Where the coefficient is around 0.5,

57
00:09:08.180 --> 00:09:11.730
Simon Wang: And also the perceived policy fairness.

58
00:09:11.890 --> 00:09:20.989
Simon Wang: So in total, these two factors approximately, explained around 61% of the variance of the level of support.

59
00:09:25.320 --> 00:09:37.750
Simon Wang: And I also, read your, like, in-class exercises. So, recall that in the in-class exercises, we basically have two types of tasks.

60
00:09:38.170 --> 00:09:42.640
Simon Wang: The first task is to do some, data visualization.

61
00:09:42.740 --> 00:09:46.399
Simon Wang: Whereas the second is to feed the linear regression model.

62
00:09:46.970 --> 00:09:52.169
Simon Wang: And regarding the data visualization, I actually observed

63
00:09:52.870 --> 00:09:57.290
Simon Wang: the, visualization like this. Let me find that one.

64
00:10:06.390 --> 00:10:15.069
Simon Wang: So some of the data visualization look like this. I believe this is generated by, or suggested by GitHub Copilot.

65
00:10:15.330 --> 00:10:21.690
Simon Wang: So it actually shows the scatter plot between the perceived fairness and the level of support.

66
00:10:22.530 --> 00:10:26.319
Simon Wang: But these type of, figure…

67
00:10:26.660 --> 00:10:28.650
Simon Wang: Looks a little bit weird, right?

68
00:10:28.790 --> 00:10:37.210
Simon Wang: It only shows certain dots, For example, for example, this dot on the left bottom corner

69
00:10:37.420 --> 00:10:40.089
Simon Wang: It means that some people

70
00:10:40.300 --> 00:10:48.840
Simon Wang: Rates the, some people rated the perceived fairness of this policy as, very unfair.

71
00:10:48.990 --> 00:10:55.879
Simon Wang: And, at the same time, they strongly, oppose this policy.

72
00:10:56.110 --> 00:10:58.260
Simon Wang: Right, so this top… this dot.

73
00:10:59.320 --> 00:11:05.280
Simon Wang: Represent those group of people holding this, attitude.

74
00:11:05.870 --> 00:11:07.720
Simon Wang: And this dot…

75
00:11:07.830 --> 00:11:19.160
Simon Wang: represent some people's belief that this policy is really unfair, and at the same time, they oppose this Policy.

76
00:11:20.360 --> 00:11:26.500
Simon Wang: But… We actually don't know how many people are here.

77
00:11:26.620 --> 00:11:32.800
Simon Wang: We don't know the exact number of people who, who hold this

78
00:11:32.940 --> 00:11:40.270
Simon Wang: Perceived fairness and believe that, they, they, they do, do not support this policy.

79
00:11:40.780 --> 00:11:46.509
Simon Wang: So… Here only shows the possible combinations of these two variables.

80
00:11:47.830 --> 00:11:54.339
Simon Wang: But… Of course, this is not informative, as mentioned, because we don't know how many people are

81
00:11:54.770 --> 00:12:09.019
Simon Wang: Actually stacked on each of these points, because if there are 10 people having this kind of combination of these two variables, or 20 people who have these combinations, they are all represented by the same dot.

82
00:12:09.860 --> 00:12:12.249
Simon Wang: This is not informative.

83
00:12:14.250 --> 00:12:20.969
Simon Wang: And the reason is that Both the level of support and fairness, they are categorical variable.

84
00:12:22.190 --> 00:12:27.770
Simon Wang: They only have, like, 1, 2, 3, 4, 5, these 5 possible options.

85
00:12:28.560 --> 00:12:31.049
Simon Wang: This is called categorical.

86
00:12:31.650 --> 00:12:41.379
Simon Wang: And regarding the visualization of categorical variable, it will be more informative to use bar chart rather than the scatterplot.

87
00:12:42.160 --> 00:12:44.940
Simon Wang: So here shows a positive example.

88
00:12:46.200 --> 00:12:54.380
Simon Wang: To suppose we combine these strongly opposed and opposed people to become one group, It is called Oppose.

89
00:12:55.170 --> 00:13:03.340
Simon Wang: Whereas the strongly support and support, we again combine these two groups as only one group, which is called support.

90
00:13:03.990 --> 00:13:08.990
Simon Wang: And we can actually use this bar chart to see…

91
00:13:09.550 --> 00:13:15.620
Simon Wang: In each level of the perceived fairness, What's the percent of people

92
00:13:16.010 --> 00:13:19.830
Simon Wang: Opposed this policy, or support this policy.

93
00:13:21.560 --> 00:13:27.430
Simon Wang: So you can see that for those who perceive that this policy is really unfair.

94
00:13:28.160 --> 00:13:31.539
Simon Wang: 100% of them opposed this policy.

95
00:13:33.540 --> 00:13:36.650
Simon Wang: Similarly, if…

96
00:13:37.240 --> 00:13:51.140
Simon Wang: people perceive that this policy is quite fair. So, say, rate the level of fairness as 4, then the percentage of people who oppose this policy will become

97
00:13:51.410 --> 00:13:55.409
Simon Wang: A smaller percentage, like, only 11.4.

98
00:13:55.550 --> 00:13:56.520
Simon Wang: percent.

99
00:13:57.570 --> 00:14:06.440
Simon Wang: And it's quite clear that with the increase of this level of fairness, The overall percentage of opposed

100
00:14:06.570 --> 00:14:09.859
Simon Wang: Of opposing this policy decrease, right?

101
00:14:10.770 --> 00:14:18.819
Simon Wang: And similarly, for the percentage of support, it increases with the increase of the perceived fairness.

102
00:14:20.470 --> 00:14:27.070
Simon Wang: So this figure is, I would say more informative compared to the previous scatter plot.

103
00:14:27.250 --> 00:14:33.199
Simon Wang: Because the nature of the variable is categorical rather than continuous.

104
00:14:35.130 --> 00:14:44.990
Simon Wang: I think I… I read some of the visualizations showing the, with the increase of perceived fairness, how

105
00:14:45.500 --> 00:14:47.500
Simon Wang: Level of support changes.

106
00:14:47.740 --> 00:14:59.029
Simon Wang: I think… There are, students showing with the increase of level of education.

107
00:14:59.530 --> 00:15:06.000
Simon Wang: With the increase of level of education, how the percentage of support,

108
00:15:06.360 --> 00:15:11.510
Simon Wang: changes. That is also a good idea, using the bar chart to show

109
00:15:11.900 --> 00:15:17.090
Simon Wang: Whether it's, the level of support increases or decreases with the

110
00:15:17.340 --> 00:15:20.709
Simon Wang: With the, increase of level of education.

111
00:15:23.200 --> 00:15:28.939
Simon Wang: So this is one thing about the, in-class exercise one, about the visualization.

112
00:15:29.180 --> 00:15:34.769
Simon Wang: And regarding the regression part, I think one of the questions is.

113
00:15:35.340 --> 00:15:42.040
Simon Wang: Are the results based on forward and backward regression the same or not?

114
00:15:42.380 --> 00:15:50.159
Simon Wang: And the… the answer is, they are… they are the same. So no matter you use,

115
00:15:50.400 --> 00:15:59.620
Simon Wang: The so-called forward way to select the potential factors that will influence the level of support, or you select backward methods.

116
00:16:00.220 --> 00:16:11.990
Simon Wang: The output will be same, that the only two factors that will influence the level of support will be the perceived responsiveness from the government and also the perceived fairness.

117
00:16:16.180 --> 00:16:21.290
Simon Wang: So that is the, answer for the in-class exercise one.

118
00:16:22.020 --> 00:16:23.120
Simon Wang: And…

119
00:16:23.770 --> 00:16:36.069
Simon Wang: Today, we will move on to the second case study, which is about evaluating the efficiency of bus road adjustment using city bus number 56 as an example.

120
00:16:36.940 --> 00:16:40.900
Simon Wang: So previously, we talked about regression, which can be used to

121
00:16:41.000 --> 00:16:46.800
Simon Wang: Study the relationship between variables or among a group of variables.

122
00:16:47.830 --> 00:16:54.740
Simon Wang: But now, we are trying to use simulation to simulate a relatively complex system.

123
00:16:55.110 --> 00:17:01.819
Simon Wang: And we can foresee what will happen if we change some of the key parameters in this system.

124
00:17:06.650 --> 00:17:14.479
Simon Wang: So here is the structure of today's case study. We will first talk about the background of this bus number 56.

125
00:17:15.020 --> 00:17:19.269
Simon Wang: And then consider the random component in the simulation.

126
00:17:19.569 --> 00:17:32.160
Simon Wang: So usually, we, simulate the, real world, but there will be certain, random components in it. So for each simulation, certain…

127
00:17:32.670 --> 00:17:35.030
Simon Wang: Certain settings will be different.

128
00:17:35.370 --> 00:17:43.759
Simon Wang: from the previous one. We do a lot of simulations, say 100 times, and then we take average and see the trend.

129
00:17:45.650 --> 00:17:51.770
Simon Wang: Then how we would, interpret the result and the corresponding inquiries

130
00:17:51.890 --> 00:17:59.739
Simon Wang: that, we can conclude, so that we will, ask the Transport Department about the

131
00:17:59.890 --> 00:18:04.490
Simon Wang: The service adjustment to this bus number 56.

132
00:18:05.430 --> 00:18:09.650
Simon Wang: And for the last part, we will have this in-class exercise.

133
00:18:15.970 --> 00:18:25.679
Simon Wang: So here we have some, background, information. So suppose, the bus service in certain areas need to be adjusted.

134
00:18:25.810 --> 00:18:29.859
Simon Wang: Then, what's the flow of this, adjustment?

135
00:18:30.600 --> 00:18:40.410
Simon Wang: So, basically, every year, the franchised bus companies will submit annual bus road planning programs to the Transport Department.

136
00:18:41.420 --> 00:18:46.259
Simon Wang: For example, I think for this year, because

137
00:18:46.440 --> 00:19:04.569
Simon Wang: the northern part of Hong Kong will be developed as the new center of the city. So, there are many new lands, they are developed, and it is estimated that there are, over

138
00:19:05.250 --> 00:19:10.829
Simon Wang: 220,000 people will move to the new northern part of Hong Kong.

139
00:19:12.110 --> 00:19:17.370
Simon Wang: And to cope with the, potential, transportation challenges.

140
00:19:18.010 --> 00:19:25.340
Simon Wang: The, bus company have already submitted their annual bus road planning program to the

141
00:19:25.590 --> 00:19:30.560
Simon Wang: to the Transport Department, I think at the end of last year.

142
00:19:30.760 --> 00:19:43.039
Simon Wang: to, hopefully to increase the number of bus roads in the northern part of Hong Kong, like Fenlang and, Shuan Shui.

143
00:19:45.870 --> 00:19:53.860
Simon Wang: So once the bus company submits these road planning programs, then the transportation department

144
00:19:53.960 --> 00:20:00.120
Simon Wang: Would review those proposals, and also consult with the relevant district councils.

145
00:20:00.650 --> 00:20:05.960
Simon Wang: So… For the northern part, it will be the northern district councils.

146
00:20:06.140 --> 00:20:08.720
Simon Wang: Especially for those major changes.

147
00:20:11.150 --> 00:20:16.400
Simon Wang: And once they decide that the new adjustments need to be implemented.

148
00:20:16.940 --> 00:20:26.459
Simon Wang: The implementation often begins on a temporary basis, allowing up to 24 months of operation without permanent legislative changes.

149
00:20:28.720 --> 00:20:32.980
Simon Wang: And the last step will be, legislative procedures.

150
00:20:34.090 --> 00:20:39.959
Simon Wang: When the road changes need to be made permanent beyond that 24 months temporary period.

151
00:20:40.440 --> 00:20:48.940
Simon Wang: So that's the overall workflow for, like, adding or adjusting bus services.

152
00:20:53.720 --> 00:21:00.740
Simon Wang: So here we can see that this is the, a screenshot of the, North District Council.

153
00:21:01.060 --> 00:21:07.309
Simon Wang: And on their website, if we choose the committee meetings, discussion papers.

154
00:21:07.490 --> 00:21:17.509
Simon Wang: Specifically under this Traffic and Transport Committee, we can see that there are some bus road planning programs for their, discussion.

155
00:21:24.800 --> 00:21:31.499
Simon Wang: And… This page shows the criteria for increasing bus frequency.

156
00:21:31.630 --> 00:21:41.499
Simon Wang: So I think we have seen this before, so there must be a criteria to, to refer to when we want to increase the bus

157
00:21:41.660 --> 00:21:42.760
Simon Wang: service.

158
00:21:44.120 --> 00:21:46.520
Simon Wang: So, based on the,

159
00:21:46.710 --> 00:21:55.350
Simon Wang: the document from the Transport Department For individual bus roads, If the passenger load factor

160
00:21:55.710 --> 00:22:01.810
Simon Wang: So, so far, there's no clear explanation about the meaning of this passenger load factor.

161
00:22:02.700 --> 00:22:06.649
Simon Wang: Reaches 90% during the busiest half hour.

162
00:22:07.690 --> 00:22:12.209
Simon Wang: And 75% during the busiest hour of peak periods.

163
00:22:12.990 --> 00:22:17.520
Simon Wang: Or 60% during the busiest hour of off-peak periods.

164
00:22:18.240 --> 00:22:24.269
Simon Wang: Then the department and the franchised bus company will consider increasing the service frequency.

165
00:22:25.400 --> 00:22:28.240
Simon Wang: So that's the, criteria.

166
00:22:29.070 --> 00:22:41.060
Simon Wang: I think, we may simply regard this passenger load factor As the seed utilization rate, Off the bus.

167
00:22:42.410 --> 00:22:46.669
Simon Wang: Say there are, in total, 10 people on the bus.

168
00:22:46.890 --> 00:22:53.540
Simon Wang: And we use 10 to divide the total capacity, or total number of seats.

169
00:22:53.940 --> 00:22:55.029
Simon Wang: on the bus.

170
00:22:55.150 --> 00:22:58.440
Simon Wang: So that we can calculate a seat utilization rate.

171
00:23:00.480 --> 00:23:05.930
Simon Wang: But by doing this kind of simplification, we cannot consider those who are standing.

172
00:23:06.180 --> 00:23:10.740
Simon Wang: There are… there will be people who… who stand on the bus rather than sitting there.

173
00:23:11.160 --> 00:23:15.810
Simon Wang: But to simplify the situation, we may just regard this passage

174
00:23:15.920 --> 00:23:21.210
Simon Wang: Load factor as the seat utilization rate of the buses.

175
00:23:23.290 --> 00:23:31.460
Simon Wang: However, according to the Bus Road Planning Program 2024-2025 for North District.

176
00:23:31.730 --> 00:23:35.309
Simon Wang: Specifically for this bus road number 56.

177
00:23:35.950 --> 00:23:42.580
Simon Wang: It turns out that based on this, record, The passenger load factor.

178
00:23:42.760 --> 00:23:45.409
Simon Wang: During the busiest one hour.

179
00:23:45.590 --> 00:23:48.059
Simon Wang: It's only 32%.

180
00:23:49.840 --> 00:23:57.470
Simon Wang: But still, they propose to have an adjustment to this bus number 6.

181
00:24:00.030 --> 00:24:02.959
Simon Wang: So that will lead to some questions.

182
00:24:05.560 --> 00:24:15.100
Simon Wang: So this 32% is actually far away from the criteria, right? From this 90%, which is…

183
00:24:15.680 --> 00:24:22.230
Simon Wang: clearly written out in the, in the, document from the Department of Transportation.

184
00:24:23.370 --> 00:24:28.370
Simon Wang: So, I think there are 4 questions that we could ask.

185
00:24:29.030 --> 00:24:31.670
Simon Wang: Given this information.

186
00:24:32.250 --> 00:24:33.919
Simon Wang: Given this information.

187
00:24:34.910 --> 00:24:43.260
Simon Wang: So the first question is, how is this passenger load factor is defined? So there's no… clear definition.

188
00:24:44.060 --> 00:24:45.440
Simon Wang: On the document.

189
00:24:45.630 --> 00:24:48.559
Simon Wang: And also, when the busiest hour occurs.

190
00:24:50.120 --> 00:24:57.720
Simon Wang: Because, so that business hour might be different for different bus roads.

191
00:24:57.830 --> 00:25:03.869
Simon Wang: Especially for buses in North Pat, which is quite far away from the center of city.

192
00:25:04.540 --> 00:25:10.890
Simon Wang: So, there's no specific record about, when this business hour happens.

193
00:25:11.450 --> 00:25:19.999
Simon Wang: And whether this 32% represents an average across different bus stops, and also across different shifts.

194
00:25:20.830 --> 00:25:26.360
Simon Wang: So we know that for some bus stops, because they are near the MTR station.

195
00:25:26.840 --> 00:25:34.060
Simon Wang: Or they are near the, facilities, public facilities, like the, public hospital.

196
00:25:34.700 --> 00:25:40.470
Simon Wang: So it is more likely that for those peak bus stops, the,

197
00:25:41.400 --> 00:25:49.140
Simon Wang: the percentage of CT fisation will be higher Compared to those small stops.

198
00:25:49.250 --> 00:25:54.659
Simon Wang: Whereas, say, far away from the MTR stations.

199
00:25:54.940 --> 00:26:06.110
Simon Wang: So then, is this 32% an average, or a median, or what exactly this… how… how exactly this 32% is calculated?

200
00:26:06.760 --> 00:26:07.470
Simon Wang: Right.

201
00:26:07.630 --> 00:26:08.829
Simon Wang: It's not clear.

202
00:26:10.640 --> 00:26:17.230
Simon Wang: And how an increase in bus frequency is justified, given the passenger load factor of 32%.

203
00:26:17.590 --> 00:26:20.479
Simon Wang: So, do they have any study?

204
00:26:21.170 --> 00:26:24.750
Simon Wang: about… Doing some prediction.

205
00:26:25.810 --> 00:26:28.630
Simon Wang: About the increase of bus frequency.

206
00:26:28.850 --> 00:26:36.799
Simon Wang: How… to what extent the increase of bus frequency will further lower down this 32%?

207
00:26:37.260 --> 00:26:40.479
Simon Wang: and to… To… to 1%.

208
00:26:41.400 --> 00:26:42.569
Simon Wang: It's not clear.

209
00:26:44.680 --> 00:26:55.979
Simon Wang: So we want to use the simulation method to, set up a model and… and try to, foresee, or try to predict.

210
00:26:56.410 --> 00:27:03.549
Simon Wang: how this 32%, if it is defined as the city utilization rate, will be different

211
00:27:04.780 --> 00:27:07.220
Simon Wang: If the bus frequency is increased.

212
00:27:11.970 --> 00:27:14.100
Simon Wang: So here shows the, map.

213
00:27:14.330 --> 00:27:22.370
Simon Wang: Of the, previous, road off bus number 56, and the newly proposed one.

214
00:27:23.280 --> 00:27:31.879
Simon Wang: So this blue, solid line, or curve, represents the current city bus road number 56,

215
00:27:32.480 --> 00:27:41.459
Simon Wang: And the proposed one is presented… is, denoted by this, Dashed lines, red lines.

216
00:27:43.250 --> 00:27:50.660
Simon Wang: So you can see that not only the frequency is different, the road itself is also different.

217
00:27:51.570 --> 00:27:57.759
Simon Wang: So we have a table to summarize the key change of this bus road adjustment.

218
00:27:58.570 --> 00:28:05.549
Simon Wang: So there are two directions. The forward direction is Su Xiang Shui, and the return direction is 2 to Mu.

219
00:28:07.050 --> 00:28:16.270
Simon Wang: So if we look at the forward direction first, the total driving distance actually increased Around 1 kilometers.

220
00:28:17.450 --> 00:28:21.590
Simon Wang: And the server's time is, kind of prolonged.

221
00:28:22.550 --> 00:28:28.909
Simon Wang: And also, some extra serving… service time, like the, PM…

222
00:28:29.200 --> 00:28:37.210
Simon Wang: peak hour from 6 to 8. For these periods of time, there will be buses.

223
00:28:37.880 --> 00:28:43.059
Simon Wang: So previously, there's no, service during this Period of time.

224
00:28:44.480 --> 00:28:50.379
Simon Wang: And also, forward to Shanshui, for public holidays, the bus will also operate.

225
00:28:52.490 --> 00:28:56.809
Simon Wang: And regarding the hatway, previously, the hat way.

226
00:28:57.440 --> 00:29:01.290
Simon Wang: Which is the time interval between two,

227
00:29:01.980 --> 00:29:07.969
Simon Wang: To… to, consecutive buses is 30 minutes.

228
00:29:08.760 --> 00:29:13.880
Simon Wang: But now, this headway is decreased to 20 minutes per shift in the mornings.

229
00:29:15.440 --> 00:29:18.480
Simon Wang: So, that means the,

230
00:29:19.340 --> 00:29:24.640
Simon Wang: The service frequency, the overall operation frequency is increased.

231
00:29:25.230 --> 00:29:27.220
Simon Wang: In the morning peak hours.

232
00:29:28.860 --> 00:29:33.759
Simon Wang: And the number of stops are, are the same, 11 stops.

233
00:29:35.360 --> 00:29:40.430
Simon Wang: Whereas for the return, trip?

234
00:29:40.680 --> 00:29:45.420
Simon Wang: The total, driving distance is also increased a little bit.

235
00:29:45.800 --> 00:29:51.320
Simon Wang: And the service time… It's almost the same for the daytime.

236
00:29:51.910 --> 00:29:54.040
Simon Wang: But for the,

237
00:29:56.310 --> 00:30:09.989
Simon Wang: 4 p.m, for, I think night… night shift, there is, extra services from around 8 o'clock to around 10 o'clock.

238
00:30:10.370 --> 00:30:11.930
Simon Wang: 8 to 10 p.m.

239
00:30:12.150 --> 00:30:14.209
Simon Wang: Plus the public holidays.

240
00:30:14.820 --> 00:30:19.120
Simon Wang: And the frequency does not change. It's still 20 minutes per shift.

241
00:30:19.270 --> 00:30:21.639
Simon Wang: But the number of stops increased.

242
00:30:22.060 --> 00:30:23.490
Simon Wang: From 10 to 12.

243
00:30:24.570 --> 00:30:28.870
Simon Wang: So that's the summary of, how the bus stop

244
00:30:29.140 --> 00:30:33.459
Simon Wang: How the bus operation, time changes.

245
00:30:36.930 --> 00:30:46.000
Simon Wang: So our objective is to develop and analyze a simulation of bus road number 56 operations during the morning.

246
00:30:46.450 --> 00:30:51.129
Simon Wang: So this is the scope. We only focus on the morning part.

247
00:30:51.300 --> 00:30:58.510
Simon Wang: And specifically, we focus on the forward direction, because the headway decreased.

248
00:30:59.650 --> 00:31:06.049
Simon Wang: And we want to know, with the increase of the operating… operation frequency.

249
00:31:07.030 --> 00:31:11.839
Simon Wang: How exactly the seed utilization rate will change.

250
00:31:16.610 --> 00:31:20.630
Simon Wang: Then the data is actually from field data.

251
00:31:21.250 --> 00:31:24.160
Simon Wang: So, dating back to, to,

252
00:31:24.400 --> 00:31:27.979
Simon Wang: To this study, the student,

253
00:31:28.280 --> 00:31:36.370
Simon Wang: He took the bus for, like, several times, and collected the passenger flow data based on observation.

254
00:31:36.820 --> 00:31:43.330
Simon Wang: And also, the estimated arrival times from the data.gov.hk.

255
00:31:44.680 --> 00:31:51.930
Simon Wang: So this so-called ETA data, the estimated arrival times, this is real-time data.

256
00:31:52.100 --> 00:31:57.819
Simon Wang: can be retrieved via API from this data.gov.hk.

257
00:31:59.660 --> 00:32:08.929
Simon Wang: So by retrieving the, this ETA data, we will be able to know when this bus arrives at each stop.

258
00:32:09.130 --> 00:32:13.889
Simon Wang: For this, For this road, number 56.

259
00:32:15.820 --> 00:32:22.480
Simon Wang: And we will assess and just the justification for road and frequency adjustment.

260
00:32:23.930 --> 00:32:29.629
Simon Wang: To this bus number 56 by estimating the seat utilization rate via simulation.

261
00:32:30.730 --> 00:32:41.389
Simon Wang: So recall that at the very beginning, when they proposed this bus road change, they want to further decrease the seat utilization rate, right?

262
00:32:41.550 --> 00:32:47.000
Simon Wang: Then we want to use the simulation to justify this kind of adjustment.

263
00:32:49.210 --> 00:32:56.760
Simon Wang: And then, to provide evidence-based policy inquiries, to the, Department of Transportation.

264
00:33:00.610 --> 00:33:05.720
Simon Wang: Okay, so this is, kind of a recap of the simulation design.

265
00:33:05.870 --> 00:33:11.870
Simon Wang: So, simulation is basically about mimicking the complex systems.

266
00:33:12.030 --> 00:33:18.250
Simon Wang: Normally, over time, using some logic, math, and also computers.

267
00:33:18.480 --> 00:33:24.390
Simon Wang: So previously, I also showed this, visualization of simulations, so the bus.

268
00:33:24.700 --> 00:33:30.270
Simon Wang: We'll, say, set out at… 10… 9, 10.

269
00:33:30.850 --> 00:33:34.300
Simon Wang: So there is a clock, and with time pass.

270
00:33:36.620 --> 00:33:42.969
Simon Wang: We would observe that there is a bus taking passengers along this, direction.

271
00:33:43.600 --> 00:33:49.290
Simon Wang: And for each stop, we can calculate the real time seed utilization.

272
00:33:50.050 --> 00:33:52.580
Simon Wang: And then, summarize the result.

273
00:33:53.370 --> 00:33:56.570
Simon Wang: So this will be what a simulation looks like.

274
00:34:02.620 --> 00:34:09.050
Simon Wang: To do the simulation, we need to clarify the so-called random components in the simulation.

275
00:34:11.790 --> 00:34:18.669
Simon Wang: Recall that our key metric for this task is the CT utilization rate.

276
00:34:18.840 --> 00:34:24.509
Simon Wang: So basically, we need to count the number of passengers on bus at each bus stop.

277
00:34:26.110 --> 00:34:32.909
Simon Wang: So then that… process, you could imagine that when the bus arrives at certain bus stops.

278
00:34:33.139 --> 00:34:35.610
Simon Wang: Some passengers will get on the bus.

279
00:34:36.920 --> 00:34:41.350
Simon Wang: Or at the same time, other passengers might get off the bus.

280
00:34:42.040 --> 00:34:50.299
Simon Wang: Then we have a new number of passengers on the bus, and then divided by the total number of seats on the bus.

281
00:34:50.460 --> 00:34:53.690
Simon Wang: So that we can calculate the seat utilization rate.

282
00:34:54.260 --> 00:34:55.580
Simon Wang: For this stop.

283
00:34:55.900 --> 00:34:57.519
Simon Wang: For a specific stop.

284
00:34:59.280 --> 00:35:03.890
Simon Wang: then… How many passengers will be at the bus stop?

285
00:35:04.770 --> 00:35:13.630
Simon Wang: Well, we have assumption that people come to the bus stop in a, like, a fixed rate.

286
00:35:14.260 --> 00:35:19.129
Simon Wang: I know this assumption is a little bit, unrealistic.

287
00:35:19.310 --> 00:35:25.459
Simon Wang: But by doing this, we can make use of the field data. Say, I took the bus.

288
00:35:25.730 --> 00:35:29.189
Simon Wang: And at each bus, At each bus stop.

289
00:35:29.370 --> 00:35:32.529
Simon Wang: I can count the number of people waiting there.

290
00:35:33.760 --> 00:35:40.209
Simon Wang: And then I consider the traveling time from previous bus stop to this bus stop.

291
00:35:40.920 --> 00:35:43.379
Simon Wang: Say, it took, like, 10 minutes.

292
00:35:43.740 --> 00:35:46.239
Simon Wang: To arrive at this bus stop.

293
00:35:46.930 --> 00:35:50.759
Simon Wang: And if there are 10 passengers waiting at this bus stop.

294
00:35:50.880 --> 00:35:57.290
Simon Wang: I could assume that at this bus stop, for every one minute, there will be a one passenger.

295
00:35:57.920 --> 00:35:59.569
Simon Wang: Arrive at this bus stop.

296
00:36:01.550 --> 00:36:08.810
Simon Wang: So this is kind of a simplification of, modeling the passenger flow.

297
00:36:10.700 --> 00:36:14.509
Simon Wang: Then the travel time between each pair of bus stops

298
00:36:14.650 --> 00:36:16.880
Simon Wang: We could regard it as random.

299
00:36:18.130 --> 00:36:27.329
Simon Wang: Because for some days, if the traffic is quite good, then the traveling time will be shorter, right, between a pair of bus stops.

300
00:36:27.750 --> 00:36:30.770
Simon Wang: Whereas for some, for some time.

301
00:36:31.030 --> 00:36:33.430
Simon Wang: Say, if there is a,

302
00:36:33.570 --> 00:36:37.030
Simon Wang: If there are certain, conjection.

303
00:36:37.640 --> 00:36:41.120
Simon Wang: Then the traveling time between two bus stops will be longer.

304
00:36:41.470 --> 00:36:43.340
Simon Wang: Compared to the normal time.

305
00:36:44.240 --> 00:36:50.369
Simon Wang: So, I can assume that the traveling time between each pair of the bus stop is random.

306
00:36:50.540 --> 00:36:57.440
Simon Wang: But overall, if I use the API data to, say, have a record.

307
00:36:57.680 --> 00:37:00.900
Simon Wang: Of the traveling time between two bus stops.

308
00:37:01.200 --> 00:37:08.299
Simon Wang: I can collect, say, 30, that kind of data, and then I can take average.

309
00:37:08.450 --> 00:37:13.929
Simon Wang: And very likely that the traveling time will be, quite close.

310
00:37:14.610 --> 00:37:18.709
Simon Wang: To this average traveling time between the two bus stops.

311
00:37:19.930 --> 00:37:25.019
Simon Wang: So I can add some… small, random components.

312
00:37:25.130 --> 00:37:26.770
Simon Wang: to this average.

313
00:37:27.240 --> 00:37:30.679
Simon Wang: And for each simulation, I just randomly draw.

314
00:37:31.180 --> 00:37:35.269
Simon Wang: A, random number from this,

315
00:37:35.720 --> 00:37:38.970
Simon Wang: so-called normal distribution. We will talk about it later.

316
00:37:41.190 --> 00:37:46.130
Simon Wang: And also, at each stop, the number of waiting passengers is also random.

317
00:37:49.240 --> 00:37:51.960
Simon Wang: So this… this is, I think this…

318
00:37:52.080 --> 00:38:01.420
Simon Wang: It's also reasonable, because the people who… who take the same bus every day will not be exactly the same.

319
00:38:02.560 --> 00:38:09.840
Simon Wang: As mentioned, if you have earlier class, you may decide to take, Take bus earlier this morning.

320
00:38:10.520 --> 00:38:15.290
Simon Wang: But if you do not have morning classes, you may not take the same bus.

321
00:38:16.180 --> 00:38:18.710
Simon Wang: During morning time.

322
00:38:19.190 --> 00:38:24.869
Simon Wang: So the number of waiting passengers is, kind of random. It can be different.

323
00:38:25.100 --> 00:38:28.669
Simon Wang: Today, compared to tomorrow, compared to tomorrow.

324
00:38:31.710 --> 00:38:36.820
Simon Wang: And also, at each stop, the number of passengers getting off is random.

325
00:38:37.830 --> 00:38:41.390
Simon Wang: I think this is also a reasonable assumption.

326
00:38:41.990 --> 00:38:47.739
Simon Wang: So people are not, getting off at the same bus stop.

327
00:38:48.280 --> 00:38:53.979
Simon Wang: I mean, the number of passengers getting off each day may not be exactly the same.

328
00:38:58.750 --> 00:39:02.619
Simon Wang: So, let's look at these three random components one by one.

329
00:39:02.800 --> 00:39:05.000
Simon Wang: So, regarding the travel time.

330
00:39:06.320 --> 00:39:13.449
Simon Wang: The bus travel time between each pair of the stops is modeled as a random variable, or random number.

331
00:39:13.730 --> 00:39:15.989
Simon Wang: Drawn from a normal distribution.

332
00:39:16.450 --> 00:39:20.690
Simon Wang: With the mean and standard deviation estimated from the sample data.

333
00:39:22.780 --> 00:39:25.679
Simon Wang: So suppose we use this API,

334
00:39:25.840 --> 00:39:29.690
Simon Wang: And collected this estimated time of arrival.

335
00:39:29.940 --> 00:39:34.349
Simon Wang: At each stop for 30 trips of bus number 56.

336
00:39:35.090 --> 00:39:38.560
Simon Wang: So, for example, here shows 4 bus stops.

337
00:39:38.730 --> 00:39:41.020
Simon Wang: Tington Estate, Nova Land.

338
00:39:41.730 --> 00:39:46.780
Simon Wang: So suppose I care about the traveling time between these two stops.

339
00:39:47.850 --> 00:39:53.299
Simon Wang: By using this ETA data, I can have Like, for 30 trips.

340
00:39:53.440 --> 00:39:57.860
Simon Wang: Of course, number 56, How long it takes.

341
00:39:58.310 --> 00:40:02.609
Simon Wang: to drive from Tainting Estate to… to Nova Land.

342
00:40:04.090 --> 00:40:10.170
Simon Wang: Then, with this 30, 30 time duration data, like…

343
00:40:10.520 --> 00:40:13.520
Simon Wang: Suppose the first data is,

344
00:40:13.980 --> 00:40:22.769
Simon Wang: 3 minutes, the second is 3 minutes and 10 seconds, the third data is, like, 2 minutes and 50 seconds, so on and so forth.

345
00:40:23.920 --> 00:40:32.849
Simon Wang: I can calculate the average, And also the standard deviation of the traveling times between these two bus stops.

346
00:40:34.030 --> 00:40:37.480
Simon Wang: And later in the simulation, I just sample

347
00:40:37.600 --> 00:40:42.149
Simon Wang: The travel times from this corresponding normal distributions.

348
00:40:42.550 --> 00:40:48.820
Simon Wang: So as long as I know the average traveling time, And also the standard deviation.

349
00:40:49.770 --> 00:40:53.010
Simon Wang: as long as I know these two key parameters.

350
00:40:53.280 --> 00:40:59.979
Simon Wang: I can draw random numbers from this normal distribution with these two parameters.

351
00:41:01.630 --> 00:41:06.449
Simon Wang: So specifically in Python, It is a one-line comment.

352
00:41:07.550 --> 00:41:11.890
Simon Wang: So I can use this, MP, so this is the library.

353
00:41:12.330 --> 00:41:17.009
Simon Wang: and .random, I want to draw a random number.

354
00:41:17.470 --> 00:41:19.640
Simon Wang: from normal distribution.

355
00:41:19.860 --> 00:41:22.210
Simon Wang: With the two parameters.

356
00:41:22.460 --> 00:41:30.059
Simon Wang: the mean… It's the average of this 30, 30 time durations.

357
00:41:30.260 --> 00:41:33.099
Simon Wang: traveling from Saintine to Neverland.

358
00:41:33.560 --> 00:41:40.130
Simon Wang: And the standard deviation, which is also calculated based on my 30 samples.

359
00:41:42.390 --> 00:41:50.500
Simon Wang: So by writing this, This value will be, will be the, random time.

360
00:41:51.530 --> 00:41:59.940
Simon Wang: that is drawn from this, distribution. So for each time, I will draw one, so that I will use this,

361
00:42:00.050 --> 00:42:06.659
Simon Wang: drawn… Random number to represent the traveling time between these two bus stops.

362
00:42:08.920 --> 00:42:19.699
Simon Wang: I can also do this for the remaining pairs of bus stops, so that overall I can have, the traveling time between each pair of the bus stops.

363
00:42:25.150 --> 00:42:29.730
Simon Wang: And the next random component is the number of waiting passengers.

364
00:42:30.830 --> 00:42:39.059
Simon Wang: So, so the number of waiting passengers, this must be a… an integer, right? We cannot have, like, 1.5 passengers.

365
00:42:39.910 --> 00:42:46.489
Simon Wang: And there is, a commonly used distribution to model the number of…

366
00:42:46.670 --> 00:42:51.999
Simon Wang: Like, events happened within a, unit time interval.

367
00:42:52.500 --> 00:42:55.649
Simon Wang: So that distribution is called Poisson distribution.

368
00:42:57.530 --> 00:43:01.379
Simon Wang: And there's one key parameter in this distribution.

369
00:43:02.420 --> 00:43:06.949
Simon Wang: Which represents the average number of occurrence in the time interval.

370
00:43:08.210 --> 00:43:12.489
Simon Wang: And this can also be estimated by the field observation.

371
00:43:14.080 --> 00:43:18.500
Simon Wang: So suppose I want to know for this bus stop number 2.

372
00:43:19.680 --> 00:43:22.850
Simon Wang: I want to know the number of waiting passengers.

373
00:43:23.090 --> 00:43:31.370
Simon Wang: So, I did field study, for the first time, when I arrive At the bus stop 2,

374
00:43:31.900 --> 00:43:38.119
Simon Wang: It took me 10 minutes to travel from bus stop 1 to bus stop 2.

375
00:43:39.520 --> 00:43:43.579
Simon Wang: And it turns out that there are 5 people waiting at bus stop 2.

376
00:43:44.440 --> 00:43:47.770
Simon Wang: So this is the first observation.

377
00:43:49.140 --> 00:43:57.380
Simon Wang: And for the second time, when I, like, set out from stop one, and then traveled like… 15 minutes.

378
00:43:57.730 --> 00:44:04.269
Simon Wang: To arrive at stop 2, And it turns out that there are 8 passengers waiting at stop 2.

379
00:44:05.430 --> 00:44:08.859
Simon Wang: So I have the second record, so on and so forth.

380
00:44:10.550 --> 00:44:19.170
Simon Wang: And based on these observations, I can calculate the arrival rate for each observation.

381
00:44:21.170 --> 00:44:22.910
Simon Wang: the way I calculate

382
00:44:23.120 --> 00:44:29.660
Simon Wang: This rate is just to use the number of people to divide the traveling time.

383
00:44:31.960 --> 00:44:37.370
Simon Wang: So I would suppose that people, on average, come…

384
00:44:38.230 --> 00:44:45.749
Simon Wang: Like, in 2 minutes. So, when 2 minutes passed, one passenger will arrive at stop 2.

385
00:44:46.450 --> 00:44:57.040
Simon Wang: And on average, after another 2 minutes, the second passengers… the second passenger come arrived at the second bus stop, so on and so forth.

386
00:44:58.410 --> 00:45:07.199
Simon Wang: So the arrival rates Of the passengers will be 0.5, 0.53, 0.5, 0.5.

387
00:45:07.960 --> 00:45:12.900
Simon Wang: Because for a 12 minutes interval, 6 people.

388
00:45:14.010 --> 00:45:17.779
Simon Wang: Came to the bus stop, or arrived at the bus stop.

389
00:45:18.560 --> 00:45:22.559
Simon Wang: So basically, average 2 minutes.

390
00:45:22.850 --> 00:45:25.579
Simon Wang: There will be one passenger coming, too.

391
00:45:26.260 --> 00:45:27.200
Simon Wang: to this.

392
00:45:28.020 --> 00:45:29.430
Simon Wang: Bus stop number 2.

393
00:45:31.270 --> 00:45:35.249
Simon Wang: So, in other words, In every one minute.

394
00:45:35.620 --> 00:45:39.059
Simon Wang: On average, there will be 0.5 passengers.

395
00:45:39.280 --> 00:45:41.159
Simon Wang: So that is an average.

396
00:45:43.570 --> 00:45:48.869
Simon Wang: And with this, I can, draw a random number.

397
00:45:49.030 --> 00:45:53.010
Simon Wang: Following poison distribution with this average rate.

398
00:45:53.630 --> 00:45:59.210
Simon Wang: And again, if we use Python to do this random number generation.

399
00:45:59.580 --> 00:46:04.080
Simon Wang: It's quite, straightforward, only one line as well.

400
00:46:04.570 --> 00:46:14.920
Simon Wang: So, this lambda rate Equals to np.mean, so we set the arrays as what we have calculated.

401
00:46:15.120 --> 00:46:19.719
Simon Wang: So we have 4 observations, then we take average of these four rates.

402
00:46:20.740 --> 00:46:31.519
Simon Wang: To become one… one rate as our estimate of the passenger arrival rate, which is 0.51.

403
00:46:32.460 --> 00:46:35.549
Simon Wang: And then to generate new arrivals.

404
00:46:36.130 --> 00:46:43.440
Simon Wang: Again, we use np.random to draw random numbers, but now we are following Poisson distribution.

405
00:46:43.670 --> 00:46:47.780
Simon Wang: With this lambda rate, Times the, time interval.

406
00:46:48.760 --> 00:46:54.749
Simon Wang: Where time interval for each time, it is also random. So it is drawn,

407
00:46:55.320 --> 00:47:01.680
Simon Wang: Based on the previous normal distribution, based on the traveling time between the two bus stops.

408
00:47:04.530 --> 00:47:08.720
Simon Wang: So now we have the number of people that will get on the bus.

409
00:47:09.410 --> 00:47:14.379
Simon Wang: We also need to consider how many people will get off the bus.

410
00:47:14.640 --> 00:47:18.409
Simon Wang: So that we can count the number of people on the bus.

411
00:47:18.880 --> 00:47:24.960
Simon Wang: Then to divide the total number of seeds to calculate The seat utilization rate.

412
00:47:28.310 --> 00:47:33.110
Simon Wang: So this, number of passengers getting off.

413
00:47:33.280 --> 00:47:37.140
Simon Wang: Will be modeled using the so-called binomial distribution.

414
00:47:38.180 --> 00:47:44.920
Simon Wang: So we have a total number of people on the bus, and we need a probability of getting off.

415
00:47:46.390 --> 00:47:51.230
Simon Wang: And the average will be the number of people times the…

416
00:47:51.720 --> 00:47:54.419
Simon Wang: Probability of getting off at each stop.

417
00:47:56.460 --> 00:48:00.269
Simon Wang: So this is also, based on the, field study.

418
00:48:00.650 --> 00:48:03.620
Simon Wang: So, the student really took the bus.

419
00:48:04.120 --> 00:48:11.449
Simon Wang: And at each stop, he counted the number of people who got off the bus.

420
00:48:12.750 --> 00:48:16.639
Simon Wang: So suppose this is, his observation.

421
00:48:17.040 --> 00:48:19.459
Simon Wang: So still, at bus stop number 2,

422
00:48:20.420 --> 00:48:23.499
Simon Wang: There are, in total, 10 people on the bus.

423
00:48:23.700 --> 00:48:26.239
Simon Wang: But 4 of them alight.

424
00:48:28.220 --> 00:48:32.009
Simon Wang: Then, for the next time, when he took this bus again.

425
00:48:32.690 --> 00:48:36.720
Simon Wang: At bus stop number 2, there are 12 people on the bus.

426
00:48:37.150 --> 00:48:39.099
Simon Wang: And 5 of them are light.

427
00:48:40.760 --> 00:48:42.220
Simon Wang: So on and so forth.

428
00:48:42.400 --> 00:48:45.169
Simon Wang: So, he had a record of

429
00:48:45.890 --> 00:48:51.540
Simon Wang: The number of people alight at bus stop number 2 for several times.

430
00:48:53.920 --> 00:48:58.039
Simon Wang: Then we could calculate the probability for each observation.

431
00:48:58.760 --> 00:49:01.719
Simon Wang: And we just use the number of people who are lied.

432
00:49:01.900 --> 00:49:04.540
Simon Wang: Divided by the number of people on the bus.

433
00:49:04.770 --> 00:49:08.330
Simon Wang: So that… 4 divided by 10 is 0.4.

434
00:49:08.500 --> 00:49:12.120
Simon Wang: 5 to 12 is 0.42, so on and so forth.

435
00:49:13.850 --> 00:49:19.489
Simon Wang: And we can take average to calculate the probability of getting off.

436
00:49:20.370 --> 00:49:21.880
Simon Wang: At bus stop number 2.

437
00:49:23.830 --> 00:49:28.090
Simon Wang: And it turns out that this probability is 0.4.

438
00:49:29.240 --> 00:49:38.010
Simon Wang: And then… We can draw a random number of passengers who get off, By, again, using np.random.

439
00:49:38.170 --> 00:49:40.940
Simon Wang: But now, based on the binomial distribution.

440
00:49:41.190 --> 00:49:47.639
Simon Wang: with the N, the total number of passengers on the bus, At that time.

441
00:49:48.060 --> 00:49:50.409
Simon Wang: With the probability of a light.

442
00:49:52.830 --> 00:49:56.149
Simon Wang: So these probabilities will be different for different stops.

443
00:49:56.280 --> 00:50:02.410
Simon Wang: We could imagine that if… If the bus stop is the one near MTR,

444
00:50:02.830 --> 00:50:08.399
Simon Wang: For the one-year aid, and, living… living area.

445
00:50:09.070 --> 00:50:12.419
Simon Wang: Then people might… more people might get off.

446
00:50:13.170 --> 00:50:17.439
Simon Wang: Because they want to go to the MPR station, or they want to go back home.

447
00:50:18.480 --> 00:50:23.949
Simon Wang: But for some small stops, this probability of getting off might be small.

448
00:50:28.450 --> 00:50:33.449
Simon Wang: Then we could use SynPy, so this is a library in Python.

449
00:50:33.610 --> 00:50:37.159
Simon Wang: To set up this discrete event simulation framework.

450
00:50:38.890 --> 00:50:46.250
Simon Wang: And each event represents a specific action. For example, we define bus arrival.

451
00:50:46.600 --> 00:50:47.940
Simon Wang: as an action.

452
00:50:48.570 --> 00:50:50.010
Simon Wang: Passenger boarding.

453
00:50:50.330 --> 00:50:57.289
Simon Wang: fast departure after the world time. So these are all, action in this simulation.

454
00:50:58.780 --> 00:51:01.599
Simon Wang: And events are perceived in a…

455
00:51:01.720 --> 00:51:07.320
Simon Wang: Chronological order, according to their scheduled time, and only when they occur.

456
00:51:08.400 --> 00:51:14.099
Simon Wang: So for certain, for example, when the bus is traveling.

457
00:51:14.890 --> 00:51:18.710
Simon Wang: Because traveling is not an action, so…

458
00:51:19.070 --> 00:51:25.170
Simon Wang: During that traveling time, the system, you would regard it as… it is paused.

459
00:51:25.380 --> 00:51:36.639
Simon Wang: We will not consider the traveling time, but we just let the time pass during the bus traveling time, and define, how long the traveling time is.

460
00:51:40.550 --> 00:51:45.439
Simon Wang: Yeah, I think I will quickly go through this typical SymPy structure.

461
00:51:45.690 --> 00:51:48.949
Simon Wang: And then we will have a 10-minute break.

462
00:51:49.240 --> 00:51:58.569
Simon Wang: And after that, we will, go to the Drupal notebook to… to have a demonstration about this Sympi structure.

463
00:52:00.800 --> 00:52:07.089
Simon Wang: So overall, there are four steps, to set up this SymPy simulation.

464
00:52:08.010 --> 00:52:12.690
Simon Wang: So the first step is to create a Simpli environment, And…

465
00:52:12.800 --> 00:52:18.789
Simon Wang: Later in the demonstration, you will see this environment equals to sympi.environment.

466
00:52:19.100 --> 00:52:20.499
Simon Wang: So, just set up.

467
00:52:21.570 --> 00:52:24.149
Simon Wang: And then, a very important step.

468
00:52:24.400 --> 00:52:29.229
Simon Wang: To set up this simulation is to define a generator function.

469
00:52:30.830 --> 00:52:36.880
Simon Wang: So specifically, you will see DEFINE, this DEF, represents defined.

470
00:52:37.380 --> 00:52:40.979
Simon Wang: And here, this generator function is called busTrip.

471
00:52:41.710 --> 00:52:47.229
Simon Wang: So we want to simulate the, bus traveling from, from A to B.

472
00:52:49.350 --> 00:52:53.660
Simon Wang: And within this parentheses, there are many arguments.

473
00:52:54.020 --> 00:53:00.689
Simon Wang: And we can put all those, changing, elements in this simulation.

474
00:53:00.830 --> 00:53:02.740
Simon Wang: within these parentheses.

475
00:53:03.550 --> 00:53:07.719
Simon Wang: So, first of all, we have this environment we just created.

476
00:53:08.620 --> 00:53:14.509
Simon Wang: And… Later, for example, if you want to run the simulation for many times.

477
00:53:14.700 --> 00:53:23.579
Simon Wang: Then we can put the wrong number into this, into this, like, the definition of our generator function.

478
00:53:24.670 --> 00:53:30.629
Simon Wang: And also, bus ID, so in this simulation, we only consider one bus.

479
00:53:31.850 --> 00:53:37.989
Simon Wang: But we can also make it more complicated by adding more buses into our simulation system.

480
00:53:38.210 --> 00:53:40.920
Simon Wang: So we can define bus ID here.

481
00:53:42.640 --> 00:53:48.279
Simon Wang: And also, road configuration. Say, we want to consider both directions.

482
00:53:48.560 --> 00:53:51.030
Simon Wang: Right, forward direction and backward.

483
00:53:51.290 --> 00:53:54.099
Simon Wang: So then, for each, direction.

484
00:53:54.260 --> 00:54:00.629
Simon Wang: then there will be a… be a label. So the label will also be, shown here.

485
00:54:01.300 --> 00:54:03.390
Simon Wang: Within this generator function.

486
00:54:04.460 --> 00:54:10.539
Simon Wang: And also, if we want to have the random component in our passenger.

487
00:54:11.030 --> 00:54:17.470
Simon Wang: So it's not the case that for every stop, the number of passengers are the same.

488
00:54:17.850 --> 00:54:26.700
Simon Wang: So if that… if there's variation of the passengers, then we can also, Define how these passenger numbers

489
00:54:26.940 --> 00:54:31.120
Simon Wang: are different for different stops.

490
00:54:31.300 --> 00:54:33.700
Simon Wang: Within this generator function.

491
00:54:36.250 --> 00:54:40.330
Simon Wang: And then, we have this yield environment timeout.

492
00:54:40.810 --> 00:54:48.719
Simon Wang: So basically, this… Tells the, simulation to pause, the whole process.

493
00:54:49.310 --> 00:54:52.879
Simon Wang: For all the traveling time off the bus.

494
00:54:53.180 --> 00:55:01.540
Simon Wang: Because… When the bus is traveling between two stops, that is not a specific action that we're interested.

495
00:55:02.070 --> 00:55:06.749
Simon Wang: So for those traveling times, we just make the simulation.

496
00:55:07.090 --> 00:55:11.139
Simon Wang: We pause it. We just let the time pass.

497
00:55:12.660 --> 00:55:14.389
Simon Wang: For a specific duration.

498
00:55:14.930 --> 00:55:18.360
Simon Wang: Right, and allow the simulated time to advance.

499
00:55:20.320 --> 00:55:26.009
Simon Wang: Then, the next step is to add the generator function to a SynPy environment.

500
00:55:26.750 --> 00:55:30.910
Simon Wang: So, recall that previously we defined this bus trip.

501
00:55:31.110 --> 00:55:37.000
Simon Wang: Now we can put this bus trip into this environmental process.

502
00:55:37.390 --> 00:55:40.579
Simon Wang: Then we kind of put the two together.

503
00:55:40.970 --> 00:55:43.680
Simon Wang: We put the generator function into this.

504
00:55:44.050 --> 00:55:47.030
Simon Wang: environment we created.

505
00:55:47.670 --> 00:55:58.009
Simon Wang: And then the last stop is to run the simulation and let time pass. So that… that, can be implemented by this enviro… environment.run.

506
00:56:00.120 --> 00:56:02.860
Simon Wang: So…

507
00:56:03.090 --> 00:56:12.550
Simon Wang: As mentioned, let's have a 10-minute break, and after that, we will go to the demonstration and look… and have a closer look of how this

508
00:56:12.780 --> 00:56:14.500
Simon Wang: Structure works.

509
01:06:36.750 --> 01:06:38.479
Simon Wang: Okay, so let's resume.

510
01:06:39.940 --> 01:06:44.579
Simon Wang: This demo Jupiter notebook can be found on Moodle.

511
01:06:47.890 --> 01:06:53.369
Simon Wang: I think it's, in the, week 4,

512
01:06:58.220 --> 01:06:59.750
Simon Wang: So once you click…

513
01:06:59.860 --> 01:07:11.710
Simon Wang: this GCAP3226 week 4, it will be automatically downloaded. It will be a zip file, and after you unzip it, you will get this GCAP Week 4 demo.

514
01:07:12.550 --> 01:07:14.060
Simon Wang: Jupyter Notebook.

515
01:07:16.840 --> 01:07:21.859
Simon Wang: So if you click it… If you open it, remember to…

516
01:07:22.130 --> 01:07:28.030
Simon Wang: Like, open the working directory, so that is, actually a good habit.

517
01:07:29.610 --> 01:07:35.329
Simon Wang: So this is, not quite long. It contains two main parts.

518
01:07:35.700 --> 01:07:40.979
Simon Wang: The first part is to see how we can generate some random numbers.

519
01:07:41.740 --> 01:07:47.419
Simon Wang: for a given, parameters. So that is the first one, first part.

520
01:07:48.150 --> 01:07:49.730
Simon Wang: and re… some…

521
01:07:49.970 --> 01:07:57.699
Simon Wang: corresponding visualization, and then it will be the four-step structure to set up a simulation using Simpi.

522
01:07:58.200 --> 01:08:02.229
Simon Wang: So, later in your own group project.

523
01:08:02.390 --> 01:08:08.449
Simon Wang: If you decided to… to choose the public transportation-related topic.

524
01:08:08.580 --> 01:08:18.949
Simon Wang: very likely you will use SymPy, but no worry if you are not clear with the details, because we always have this AI co-pilot to help us.

525
01:08:19.090 --> 01:08:23.700
Simon Wang: To generate the code, as long as we are clear about what we want.

526
01:08:24.640 --> 01:08:30.490
Simon Wang: Okay, so maybe let's start with this, random number generation.

527
01:08:31.920 --> 01:08:38.849
Simon Wang: So first, it shows how to generate 100 random values of traveling time from a normal distribution.

528
01:08:39.550 --> 01:08:46.469
Simon Wang: And specifically, I set the, mean equals to 3, and standard deviation equals to 0.3.

529
01:08:48.040 --> 01:08:53.789
Simon Wang: So usually, I will set a seed before generating the random number, because

530
01:08:54.189 --> 01:08:59.679
Simon Wang: Once I set this seed, I can always generate the same set of random values.

531
01:09:00.760 --> 01:09:08.959
Simon Wang: So, for example, for this time, when I… when I use this np.random.normal.

532
01:09:09.100 --> 01:09:16.359
Simon Wang: I set the mean equals to 3, and standard deviation equals to 0.3, and I want 100 of them.

533
01:09:17.020 --> 01:09:23.770
Simon Wang: and I print the first 4 random values. I generate it, then it is this 4.

534
01:09:24.790 --> 01:09:28.369
Simon Wang: And if I run it again, it will still be this 4.

535
01:09:28.779 --> 01:09:34.740
Simon Wang: And if I run it again, it will be still this 4. So… once I set a seed.

536
01:09:35.080 --> 01:09:44.259
Simon Wang: of these random numbers, for each time I generate, say, 100 random numbers, these 100 numbers

537
01:09:44.859 --> 01:09:46.220
Simon Wang: Are always the same.

538
01:09:46.590 --> 01:09:51.670
Simon Wang: So I can make my experiment reproducible.

539
01:09:57.080 --> 01:10:03.110
Simon Wang: And here just shows a visualization of this 100 values.

540
01:10:04.970 --> 01:10:12.850
Simon Wang: So here it calculates the, some key, summary statistics of this 100 data points.

541
01:10:13.380 --> 01:10:18.070
Simon Wang: So although I set the mean equals to 3, empirically.

542
01:10:18.480 --> 01:10:29.020
Simon Wang: the average of this 100 random values, it turns out to be 3.019. So it's not exactly the same as 3, but pretty close to 3.

543
01:10:30.790 --> 01:10:35.800
Simon Wang: And also the standard deviations. Although I set it as 0.3,

544
01:10:35.960 --> 01:10:43.170
Simon Wang: The empirical value of the standard deviation of these 100 data points is 0.288.

545
01:10:45.680 --> 01:10:50.479
Simon Wang: And some other key, summary statistics, the quartiles.

546
01:10:51.020 --> 01:10:59.009
Simon Wang: And the minimum and maximum value, which are not the, not extreme values.

547
01:11:05.370 --> 01:11:09.829
Simon Wang: So because the traveling time is a continuous variable.

548
01:11:10.360 --> 01:11:13.759
Simon Wang: So this is, like, the, the distance between

549
01:11:13.930 --> 01:11:19.960
Simon Wang: The, participant's house and the nearest recycling facility.

550
01:11:20.060 --> 01:11:23.880
Simon Wang: So this is, an example of continuous variable.

551
01:11:24.150 --> 01:11:29.129
Simon Wang: It is not like the level of support, which can only take 1, 2, 3, 4, 5, right?

552
01:11:29.650 --> 01:11:35.369
Simon Wang: Because the traveling time is continuous, it is appropriate to use either a histogram.

553
01:11:35.800 --> 01:11:40.000
Simon Wang: And the box and whisker plot to visualize its distribution.

554
01:11:41.860 --> 01:11:53.800
Simon Wang: So I just, asked the GitHub co-pilot to generate some code to, to plot the histogram, which shows the overall

555
01:11:54.030 --> 01:11:55.240
Simon Wang: distribution.

556
01:11:55.360 --> 01:11:57.900
Simon Wang: And also the box and whisper plot.

557
01:12:00.790 --> 01:12:06.440
Simon Wang: And it turns out that we can see on the left-hand side, this shape looks

558
01:12:06.620 --> 01:12:18.689
Simon Wang: Like a normal distribution, which is, like, bell shape, and symmetric, and only has one peak, which is the center of this normal distribution.

559
01:12:21.500 --> 01:12:29.439
Simon Wang: And this vertical line is the actual mean of the data. As mentioned, it's 3.019.

560
01:12:31.020 --> 01:12:35.909
Simon Wang: And on the right-hand side, this plot is called the box and whisker plot.

561
01:12:36.100 --> 01:12:46.909
Simon Wang: So maybe I briefly talk about it, because later, when we summarize the result of simulation, you will meet this box and whisker plot again.

562
01:12:50.380 --> 01:13:01.819
Simon Wang: So suppose I have a sequence of data, so from 5 to 7 to 10, 5, 15, so on and so forth, until 25.

563
01:13:01.950 --> 01:13:06.040
Simon Wang: So in total, I have 19, this kind of data points.

564
01:13:06.960 --> 01:13:11.930
Simon Wang: And you may have already noticed that these data points are, sorted.

565
01:13:12.140 --> 01:13:17.260
Simon Wang: By an ascending order, so… They are increasing.

566
01:13:17.460 --> 01:13:18.140
Simon Wang: Right.

567
01:13:19.420 --> 01:13:26.309
Simon Wang: So this box and whisker plot can be used to visualize the overall distribution of data.

568
01:13:26.930 --> 01:13:31.770
Simon Wang: And the way I do it is to find the so-called median first.

569
01:13:32.180 --> 01:13:34.730
Simon Wang: So the median is the data point

570
01:13:34.970 --> 01:13:38.499
Simon Wang: Which sits in the middle of the sorted dataset.

571
01:13:39.680 --> 01:13:42.610
Simon Wang: So now we have 19 data points.

572
01:13:43.250 --> 01:13:46.620
Simon Wang: And the one sees in the middle will be the tens data point.

573
01:13:47.450 --> 01:13:56.109
Simon Wang: And I can actually verify this by directly, Type the, formula in Excel.

574
01:13:59.390 --> 01:14:02.089
Simon Wang: The median of this set of data.

575
01:14:03.450 --> 01:14:04.950
Simon Wang: Will be 23.

576
01:14:07.200 --> 01:14:08.160
Simon Wang: So here.

577
01:14:08.570 --> 01:14:10.960
Simon Wang: Because 23 sits in the middle.

578
01:14:11.740 --> 01:14:13.810
Simon Wang: of these data points. It sits

579
01:14:14.100 --> 01:14:19.580
Simon Wang: Like, it is from here, above this.

580
01:14:20.120 --> 01:14:26.520
Simon Wang: 23, there are, like, around 25%, sorry, 50% of the data.

581
01:14:27.300 --> 01:14:30.800
Simon Wang: So it's about 10, 9 data points.

582
01:14:30.970 --> 01:14:39.800
Simon Wang: And also, under this 23, there are another 9 data points.

583
01:14:40.250 --> 01:14:42.959
Simon Wang: So 23 is the median of the data.

584
01:14:43.140 --> 01:14:52.400
Simon Wang: So later, it will be shown as the, this… Horizontal bar in the… box.

585
01:14:52.840 --> 01:14:54.210
Simon Wang: So this is the box.

586
01:14:57.260 --> 01:15:05.330
Simon Wang: So then, what… what are these Q1 and Q3? Well, Q1 and Q1, you may regard it as the

587
01:15:05.770 --> 01:15:11.479
Simon Wang: The value sits in the middle of the first 50% of data.

588
01:15:13.720 --> 01:15:22.579
Simon Wang: So now there are 9 data points here, right? So the one sits in the middle will be the 5th data point. That will be 19.

589
01:15:23.210 --> 01:15:28.060
Simon Wang: Because above 19, there are 4 data points, and…

590
01:15:28.360 --> 01:15:32.990
Simon Wang: Under this, under 19, there are also, like, 4 data points.

591
01:15:34.460 --> 01:15:39.609
Simon Wang: We can also use the formula in Excel to verify this.

592
01:15:56.510 --> 01:16:01.160
Simon Wang: So median is, like, the… around 50% of the data.

593
01:16:01.530 --> 01:16:05.379
Simon Wang: Then Q1 is around 25% of the data.

594
01:16:06.350 --> 01:16:10.850
Simon Wang: And similarly, Q3 is the 75% of the data.

595
01:16:26.040 --> 01:16:28.890
Simon Wang: And it turns out to be 24.

596
01:16:29.850 --> 01:16:37.710
Simon Wang: And once we got Q3 and Q1, we could calculate the interquartile range.

597
01:16:38.160 --> 01:16:40.840
Simon Wang: Where we use Q3 to minus Q1.

598
01:16:46.610 --> 01:16:49.580
Simon Wang: So that is the height of this box.

599
01:16:50.040 --> 01:16:55.670
Simon Wang: Right? The height represents the range of the middle 50% of the data.

600
01:16:57.590 --> 01:17:05.180
Simon Wang: And based on this, we can calculate the so-called upper and lower inner fence to define outliers.

601
01:17:06.370 --> 01:17:10.920
Simon Wang: So this upper interference is Q3, Plus…

602
01:17:19.230 --> 01:17:21.829
Simon Wang: 1.5 times its IQR.

603
01:17:22.090 --> 01:17:27.270
Simon Wang: Whereas the lower interference is Q1 minus 1.5.

604
01:17:27.580 --> 01:17:29.970
Simon Wang: times… IQR.

605
01:17:33.330 --> 01:17:37.139
Simon Wang: So these are the, like, the thresholds

606
01:17:37.270 --> 01:17:40.969
Simon Wang: To determine whether any data are outliers.

607
01:17:41.660 --> 01:17:48.459
Simon Wang: It turns out that The smallest data point in our data is 5, which is smaller.

608
01:17:48.600 --> 01:17:54.760
Simon Wang: than the lower interference, 11.5. So 5 will be regarded as an outlier.

609
01:17:56.160 --> 01:18:05.039
Simon Wang: Similarly, for 7th, And also 10. So these three data points will be regarded as outlier.

610
01:18:06.410 --> 01:18:07.959
Simon Wang: Then the whisker.

611
01:18:08.940 --> 01:18:11.479
Simon Wang: The whisker at the bottom.

612
01:18:11.910 --> 01:18:15.550
Simon Wang: We'll only reach the non-outlier minimum value.

613
01:18:18.520 --> 01:18:28.260
Simon Wang: That means… Given the first three data points are outlier, The whisker will stretch to 15.

614
01:18:32.210 --> 01:18:36.399
Simon Wang: So that will, that is what this,

615
01:18:37.100 --> 01:18:39.860
Simon Wang: Box and Whisker plot will look like.

616
01:18:40.210 --> 01:18:44.139
Simon Wang: the minimum… The minimum will be…

617
01:18:44.560 --> 01:18:47.809
Simon Wang: I mean, the minimum of, now, outlier.

618
01:18:47.970 --> 01:18:50.160
Simon Wang: will be… 15.

619
01:18:50.750 --> 01:18:54.670
Simon Wang: Whereas for the, maximum, Because…

620
01:18:54.930 --> 01:19:00.389
Simon Wang: The largest value in our dataset is 25, and it is less than this threshold.

621
01:19:01.470 --> 01:19:05.190
Simon Wang: So this is the, non-outlier maximum.

622
01:19:05.760 --> 01:19:08.189
Simon Wang: So the maximum will be 25.

623
01:19:08.690 --> 01:19:11.149
Simon Wang: And the mean will be just the average.

624
01:19:20.870 --> 01:19:28.480
Simon Wang: And if we want to generate the box and whisker plot for this kind of data, we can easily insert

625
01:19:32.040 --> 01:19:34.169
Simon Wang: A box and whisker plot like this.

626
01:19:34.870 --> 01:19:37.729
Simon Wang: So you can see that there are three dots.

627
01:19:38.910 --> 01:19:40.680
Simon Wang: under this box.

628
01:19:42.010 --> 01:19:50.480
Simon Wang: And these three data points are those outliers, because their values are smaller than the lower interference.

629
01:19:50.800 --> 01:19:54.169
Simon Wang: So these are defined as outliers.

630
01:19:54.890 --> 01:19:56.289
Simon Wang: And the whisker.

631
01:19:56.540 --> 01:20:05.889
Simon Wang: Under this box, we'll reach 15, which is the, which is the smallest outlier in our dataset.

632
01:20:09.150 --> 01:20:11.309
Simon Wang: And for the upper whisker.

633
01:20:12.760 --> 01:20:22.670
Simon Wang: 25 is already the largest non-outlier, so for the upper whisker, it will only reach 25.

634
01:20:28.670 --> 01:20:36.269
Simon Wang: So, in this way, we can also observe that the media, which is the horizontal line inside this box.

635
01:20:36.420 --> 01:20:40.299
Simon Wang: is much closer to this Q3.

636
01:20:40.980 --> 01:20:47.510
Simon Wang: Compared to Q1. So Q1 is the… Is where…

637
01:20:47.710 --> 01:20:50.500
Simon Wang: The bottom of this box corresponds to…

638
01:20:52.970 --> 01:20:56.490
Simon Wang: It is because in our data for the media.

639
01:20:56.590 --> 01:21:02.719
Simon Wang: median is 23, and Q3 is 24. So these two values are quite close.

640
01:21:02.840 --> 01:21:06.539
Simon Wang: With each other… with each other, compared to…

641
01:21:07.720 --> 01:21:14.969
Simon Wang: the distance between Q2, the median, and Q1. So, here the distance is 4.

642
01:21:16.880 --> 01:21:21.620
Simon Wang: Whereas the distance between Q2 and Q3 is only 1.

643
01:21:23.400 --> 01:21:30.069
Simon Wang: So that corresponds to this key summary statistics, calculated based on our data.

644
01:21:32.950 --> 01:21:36.630
Simon Wang: So similarly here, you can see that

645
01:21:36.840 --> 01:21:40.250
Simon Wang: We just generated 100 random values.

646
01:21:41.010 --> 01:21:45.870
Simon Wang: And we can also use this box and whisker plot to show this distribution.

647
01:21:47.130 --> 01:21:53.330
Simon Wang: And this box shows, again, the middle 50% of the data.

648
01:21:53.460 --> 01:22:08.300
Simon Wang: So the range is between, like, 2.8… 1, or 2.82, to 3.2… 4 or 2, 5.

649
01:22:10.740 --> 01:22:14.869
Simon Wang: Where this orange horizontal line represents the immediate.

650
01:22:17.010 --> 01:22:20.590
Simon Wang: And this dashed red line represents the amine.

651
01:22:22.330 --> 01:22:24.309
Simon Wang: So there's no outliers.

652
01:22:25.610 --> 01:22:30.000
Simon Wang: For this randomly drawn, random numbers.

653
01:22:30.180 --> 01:22:32.000
Simon Wang: Based on normal distribution.

654
01:22:34.910 --> 01:22:37.769
Simon Wang: So that's the first visualization part.

655
01:22:38.230 --> 01:22:45.770
Simon Wang: And then the second part is the, our… like… Backbone of simulation.

656
01:22:45.910 --> 01:22:47.990
Simon Wang: So that four-step structure.

657
01:22:49.920 --> 01:23:00.900
Simon Wang: If you have not installed the SymPy package, maybe you could use the, Like, the percentage… PIP…

658
01:23:01.300 --> 01:23:02.450
Simon Wang: install.

659
01:23:04.040 --> 01:23:05.130
Simon Wang: Simpai.

660
01:23:05.490 --> 01:23:07.280
Simon Wang: Maybe you could run this.

661
01:23:07.820 --> 01:23:11.890
Simon Wang: Maybe I add a new code cell.

662
01:23:12.210 --> 01:23:18.880
Simon Wang: So… now my cursor is at this four-step structure, then I can add a cold cell.

663
01:23:19.790 --> 01:23:25.340
Simon Wang: And I can… Paste this command.

664
01:23:26.840 --> 01:23:32.499
Simon Wang: in this new, newly created, code cell to install the SymPy package.

665
01:23:34.780 --> 01:23:45.229
Simon Wang: And once we… once we create, once we have installed this SymPy package, we can import it and then follow the fourth step.

666
01:23:46.180 --> 01:23:55.710
Simon Wang: say, create a SimPai environment, So I think I've already typed this into the demonstration notebook.

667
01:23:55.940 --> 01:24:00.630
Simon Wang: So once you install the SymPy library, you can just run the cells.

668
01:24:01.240 --> 01:24:09.819
Simon Wang: So it says the environment created and current time is 0. So we are starting at time 0.

669
01:24:11.270 --> 01:24:17.680
Simon Wang: And then, step two will be exactly the same as, what we have seen on the lecture notes.

670
01:24:18.040 --> 01:24:22.259
Simon Wang: In the lecture notes, So we define this generator function.

671
01:24:22.660 --> 01:24:24.520
Simon Wang: Which is called Bus Trip.

672
01:24:25.130 --> 01:24:30.280
Simon Wang: And put the environment in it, so the environment is created in Step 1.

673
01:24:31.930 --> 01:24:38.449
Simon Wang: I want to, I want to simulate a bus trip from stop A to stop B,

674
01:24:38.860 --> 01:24:42.739
Simon Wang: And record the current simulation time for departure.

675
01:24:44.430 --> 01:24:49.819
Simon Wang: So here, the departure time should be zero. I… I set out at time 0.

676
01:24:51.310 --> 01:24:53.890
Simon Wang: And then travel for 3 minutes.

677
01:24:55.100 --> 01:24:58.359
Simon Wang: So, I just let time pass in the simulation.

678
01:24:59.120 --> 01:25:04.010
Simon Wang: So yield is a very important component in our generator function.

679
01:25:05.070 --> 01:25:14.850
Simon Wang: Here, these 3 can be 3 minutes, or can be 3 seconds, or can be 3 hours. We can define it, by ourself.

680
01:25:16.390 --> 01:25:20.210
Simon Wang: And then, after, The system has…

681
01:25:20.540 --> 01:25:27.480
Simon Wang: has run for 3 minutes, then the bus arrives at this bus stop B.

682
01:25:28.460 --> 01:25:34.190
Simon Wang: So then I use this, environment.now to represent the arrival time.

683
01:25:34.840 --> 01:25:37.560
Simon Wang: And I print out the bus arrival time.

684
01:25:41.520 --> 01:25:47.880
Simon Wang: Then, the step 3 will be adding the generator function to a SynPy environment.

685
01:25:48.600 --> 01:25:51.939
Simon Wang: So that involved this environmental process.

686
01:25:52.530 --> 01:25:55.619
Simon Wang: and I put my generator function, this bus stop.

687
01:25:55.740 --> 01:25:59.390
Simon Wang: With the only argument environment here.

688
01:25:59.880 --> 01:26:01.900
Simon Wang: To this process.

689
01:26:02.890 --> 01:26:07.720
Simon Wang: So by doing this, I add my generator function to this SymPy environment.

690
01:26:09.990 --> 01:26:12.179
Simon Wang: I think I can run it.

691
01:26:18.290 --> 01:26:24.989
Simon Wang: And the last step will be run the simulation and let time pass. So start simulation…

692
01:26:25.470 --> 01:26:30.120
Simon Wang: Environment.run, and then print simulation completed, final time.

693
01:26:31.140 --> 01:26:35.289
Simon Wang: So in this simulation, because there's no random component.

694
01:26:35.560 --> 01:26:40.060
Simon Wang: I just want to simulate a bus running from stop A

695
01:26:40.200 --> 01:26:43.540
Simon Wang: After 3 minutes to arrive at stop B.

696
01:26:45.240 --> 01:26:51.910
Simon Wang: So this can be, like, implemented using this, simpai.

697
01:26:56.950 --> 01:27:02.770
Simon Wang: And the last cell is about adding certain random components.

698
01:27:03.150 --> 01:27:08.240
Simon Wang: And I decided to increase my traveling time to 100 tons.

699
01:27:08.690 --> 01:27:10.080
Simon Wang: 100 runs.

700
01:27:12.560 --> 01:27:18.840
Simon Wang: So now, when I define my generator function, In addition to this environment.

701
01:27:19.170 --> 01:27:21.489
Simon Wang: I also have this wrong number.

702
01:27:23.440 --> 01:27:29.649
Simon Wang: So now my generator function is called busTripRandom, with certain random component.

703
01:27:29.950 --> 01:27:37.689
Simon Wang: I want to make the traveling time to be, drawn from a normal distribution.

704
01:27:39.520 --> 01:27:43.140
Simon Wang: So here, you can see that generates random traveling time.

705
01:27:43.490 --> 01:27:49.369
Simon Wang: From normal distribution, it was mean equals to 3, and standard deviation equals to 0.3.

706
01:27:51.120 --> 01:27:59.649
Simon Wang: And also, I need to make sure that the traveling time drawn from this normal distribution must be a positive number.

707
01:28:00.660 --> 01:28:04.060
Simon Wang: So, although it is very unlikely that

708
01:28:04.480 --> 01:28:10.040
Simon Wang: I draw a random value from this normal distribution, the output will be negative.

709
01:28:10.540 --> 01:28:14.619
Simon Wang: But… I need to, like,

710
01:28:15.050 --> 01:28:21.000
Simon Wang: control this extreme case. I don't want this extreme case to happen.

711
01:28:21.610 --> 01:28:27.759
Simon Wang: So… I have this function to make it a maximum value between 0.1,

712
01:28:27.940 --> 01:28:31.149
Simon Wang: So this small value is already quite unlikely.

713
01:28:31.360 --> 01:28:33.350
Simon Wang: And my travel time.

714
01:28:33.490 --> 01:28:34.740
Simon Wang: So even…

715
01:28:34.940 --> 01:28:44.830
Simon Wang: I really draw a negative value from this normal distribution. By doing this, I can still take a positive value for my traveling time.

716
01:28:47.690 --> 01:28:51.520
Simon Wang: Then, similarly, for the drone traveling time,

717
01:28:51.970 --> 01:28:56.019
Simon Wang: I use this environment.timeout to pause the whole process.

718
01:28:56.970 --> 01:28:59.639
Simon Wang: And then, record the arrival time.

719
01:29:02.290 --> 01:29:09.160
Simon Wang: Then, for each time, I append the new result into my result, list.

720
01:29:13.470 --> 01:29:15.819
Simon Wang: I run 100 simulations.

721
01:29:17.180 --> 01:29:19.200
Simon Wang: And record the output.

722
01:29:20.030 --> 01:29:23.170
Simon Wang: So if we run this, if we run this cell.

723
01:29:26.270 --> 01:29:30.760
Simon Wang: The output will be, like, for run 1, the bus departs at time 0.

724
01:29:31.020 --> 01:29:33.970
Simon Wang: And bus arrive at times 3.1.

725
01:29:35.130 --> 01:29:40.509
Simon Wang: So the traveling time is actually 3.15 minutes.

726
01:29:40.680 --> 01:29:50.859
Simon Wang: So on and so forth. So you can see that in these 100 simulations, for the traveling time, each time is, is slightly different.

727
01:29:51.340 --> 01:29:58.439
Simon Wang: They are all drawn from the same normal distribution, but there are certain variation of the traveling time.

728
01:30:03.230 --> 01:30:12.590
Simon Wang: And also, if I take average of this traveling time, it turns out to be 2.97 minutes, and with minimum, maximum.

729
01:30:12.750 --> 01:30:14.720
Simon Wang: And expected values.

730
01:30:19.620 --> 01:30:20.610
Simon Wang: Okay.

731
01:30:25.600 --> 01:30:31.039
Simon Wang: I think India… Group project implementation.

732
01:30:33.220 --> 01:30:36.499
Simon Wang: You can always discuss with the,

733
01:30:36.810 --> 01:30:41.259
Simon Wang: GitHub Copilot about this, these parameters.

734
01:30:41.480 --> 01:30:49.440
Simon Wang: And how to… Reasonably set these parameters based on your field observations.

735
01:30:50.240 --> 01:30:58.550
Simon Wang: And for the, code, I think still the GitHub Copilot can finish most of the… most of the code.

736
01:30:59.070 --> 01:31:04.610
Simon Wang: But just make sure that once the code is generated, take a look, take a very brief look.

737
01:31:04.740 --> 01:31:07.600
Simon Wang: Of those codes, and you can even ask

738
01:31:07.850 --> 01:31:10.570
Simon Wang: the Hub Copilot to explain those code

739
01:31:10.740 --> 01:31:20.540
Simon Wang: block by block to you, and you could check whether, the… the logic or the structure is correct.

740
01:31:23.980 --> 01:31:30.380
Simon Wang: And here comes the results of the simulation for this bus number 56.

741
01:31:30.800 --> 01:31:39.470
Simon Wang: So, overall, it runs, like, 1,000 times of simulations, and for each Stop.

742
01:31:39.630 --> 01:31:47.230
Simon Wang: the seat utilization rate are different. So for each bus stop, you can see this bus box and whisker plot.

743
01:31:49.810 --> 01:31:57.630
Simon Wang: And the median of the seed utilization rate will be between 12% to 34%.

744
01:31:58.340 --> 01:32:01.539
Simon Wang: So it's actually, less,

745
01:32:02.230 --> 01:32:09.430
Simon Wang: it's not uniformly less than 32%, because originally it's, like, 32%, right? And…

746
01:32:09.670 --> 01:32:19.110
Simon Wang: the, bus company and also TD would like to decrease the seat utilization rate by, adjusting the,

747
01:32:19.540 --> 01:32:21.959
Simon Wang: Improving the bus frequency.

748
01:32:22.340 --> 01:32:30.520
Simon Wang: So this is the after adjustment, and the operation direction is forward, to Shenzhou.

749
01:32:34.140 --> 01:32:44.310
Simon Wang: And this is the, let me see, this is the, return direction, so to… turn on.

750
01:32:45.060 --> 01:32:51.170
Simon Wang: You can see that the median of seat utilization Is 5% to 34%.

751
01:32:52.380 --> 01:32:56.960
Simon Wang: So, so here, there's quite difference

752
01:32:57.790 --> 01:33:03.700
Simon Wang: for each… I mean, the city utilization rate for different stops are actually quite different.

753
01:33:04.150 --> 01:33:08.950
Simon Wang: So this kind of highlighted, the importance of

754
01:33:09.300 --> 01:33:15.280
Simon Wang: Having a clear definition or explanation of that 32%.

755
01:33:15.780 --> 01:33:21.640
Simon Wang: Is that 32% an average, or it's a typical stop?

756
01:33:22.020 --> 01:33:23.590
Simon Wang: in this direction.

757
01:33:23.950 --> 01:33:27.300
Simon Wang: I think, the bus company or TD should

758
01:33:27.450 --> 01:33:31.389
Simon Wang: clarify about the meaning of that 32%.

759
01:33:35.930 --> 01:33:44.350
Simon Wang: And, before the adjustment, because there are two bus stops that, do not… that did not exist.

760
01:33:45.170 --> 01:33:51.030
Simon Wang: So we do have, certain assumptions for the passenger flow data.

761
01:33:51.200 --> 01:33:53.730
Simon Wang: For these two bus stops.

762
01:33:54.680 --> 01:34:05.000
Simon Wang: And before the adjustment, it is calculated that the median of seat utilization rate for these bus stops will be between 80% to 56%.

763
01:34:07.000 --> 01:34:12.650
Simon Wang: So this means that after the adjustment, the median of seed utilization rate indeed decreased.

764
01:34:15.560 --> 01:34:18.429
Simon Wang: And this is also before the adjustment.

765
01:34:18.650 --> 01:34:22.580
Simon Wang: There's one, like,

766
01:34:22.900 --> 01:34:30.610
Simon Wang: disappeared bus stop right now. So for this bus stop, we also have certain assumptions about passenger flow data.

767
01:34:31.410 --> 01:34:36.390
Simon Wang: And it turns out that the median of seed utilization rate is between 8%

768
01:34:36.640 --> 01:34:40.840
Simon Wang: So for this, at the very beginning and at the end.

769
01:34:41.020 --> 01:34:49.139
Simon Wang: The bus… the, city utilization rate is quite low, whereas for the, Stops in the middle.

770
01:34:51.200 --> 01:34:55.869
Simon Wang: Especially the, the one year, the MTR station.

771
01:34:56.050 --> 01:34:59.599
Simon Wang: The bus utilization… the seat utilization rate is quite high.

772
01:35:05.000 --> 01:35:13.099
Simon Wang: So overall, the summary of the results shows that the adjustment appears to have reduced the overall seed utilization rate.

773
01:35:13.460 --> 01:35:19.730
Simon Wang: I think this also makes sense, because when the… Frequency of buzz increases.

774
01:35:20.070 --> 01:35:23.470
Simon Wang: The overall seed utilization rate should decrease.

775
01:35:23.610 --> 01:35:24.340
Simon Wang: Right.

776
01:35:25.360 --> 01:35:32.089
Simon Wang: But the decision to increase bus frequency should also be analyzed from the perspective of operating costs.

777
01:35:32.990 --> 01:35:39.480
Simon Wang: So, with the increase of the, the operating frequency.

778
01:35:39.670 --> 01:35:46.820
Simon Wang: The bus company will need to hire, say, at least one more captain to drive the bus.

779
01:35:47.500 --> 01:35:52.619
Simon Wang: And also, the, overall, the, traveling will, will…

780
01:35:52.980 --> 01:35:56.549
Simon Wang: Need the, the cost of fuel, right?

781
01:35:56.840 --> 01:36:05.279
Simon Wang: So whether it is, like, cost-effective to To increase the frequency.

782
01:36:05.890 --> 01:36:11.000
Simon Wang: The bus company also needs to consider from… from the cost perspective.

783
01:36:14.070 --> 01:36:17.340
Simon Wang: So finally, this study,

784
01:36:17.790 --> 01:36:28.220
Simon Wang: confirmed and generalized the three points that we want to, have this inquire… inquiry to the transport department.

785
01:36:29.020 --> 01:36:32.890
Simon Wang: So, for the operational and passenger flow data.

786
01:36:33.180 --> 01:36:39.259
Simon Wang: Were there any operational and passenger flow data collected and analyzed?

787
01:36:39.510 --> 01:36:46.779
Simon Wang: When they assess the rerouting and schedule changes for this bus number 56,

788
01:36:47.760 --> 01:36:59.690
Simon Wang: And also, whether they have done any service quality evaluation. So, did they use any quantitative models or criteria to evaluate whether the service modification

789
01:36:59.840 --> 01:37:03.389
Simon Wang: Would maintain or improve passenger service quality.

790
01:37:04.760 --> 01:37:13.960
Simon Wang: And the last point is about the data acceptability. So, if they have already collected the irrelevant operational data sets.

791
01:37:14.410 --> 01:37:20.430
Simon Wang: Then can they make it available for public or for academic review?

792
01:37:21.320 --> 01:37:30.520
Simon Wang: So these are all, like, key questions once we finish this analysis, simulation analysis for this bus number 56.

793
01:37:33.060 --> 01:37:38.109
Simon Wang: So hopefully it's through this, case study, you have a, like, brief

794
01:37:38.250 --> 01:37:46.309
Simon Wang: Understanding about what simulation study is, and under what circumstances it is appropriate to use it.

795
01:37:46.480 --> 01:37:52.380
Simon Wang: to, to generate the, some analysis results.

796
01:37:54.570 --> 01:37:55.549
Simon Wang: I think…

797
01:37:56.230 --> 01:38:04.720
Simon Wang: We may move on to the, in-class exercise, too. I think for this in-class exercise, the content is not…

798
01:38:04.920 --> 01:38:10.240
Simon Wang: That much compared to the previous one. We only have 3 small questions.

799
01:38:12.740 --> 01:38:20.389
Simon Wang: And again, feel free to ask help from GitHub Copilot to work on these, three tasks.

800
01:38:21.220 --> 01:38:28.370
Simon Wang: And part of the code has already… Been ready, so I think…

801
01:38:29.550 --> 01:38:33.330
Simon Wang: Half an hour, and for the remaining time, maybe we can

802
01:38:33.480 --> 01:38:38.710
Simon Wang: Decide the, group of our… project.

